{% extends 'yogaapp/base.html' %}
{% block main %}
<style>
  .plans-section { max-width: 1200px; margin: auto; padding: 20px; }
  .plans-header { text-align: center; margin-bottom: 30px; font-size: 28px; font-weight: 700; color: #333; }
  .plans-container { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 25px; }
  .plan-card { background: #fff; border-radius: 12px; overflow: hidden; box-shadow: 0 6px 16px rgba(0,0,0,0.08); transition: transform 0.25s ease, box-shadow 0.25s ease; display: flex; flex-direction: column; }
  .plan-card:hover { transform: translateY(-5px); box-shadow: 0 8px 20px rgba(0,0,0,0.12); }
  .plan-card img { width: 100%; height: 180px; object-fit: cover; }
  .plan-content { padding: 16px; flex: 1; display: flex; flex-direction: column; justify-content: space-between; }
  .plan-title { font-size: 18px; font-weight: 600; color: #222; margin-bottom: 8px; }
  .plan-desc { font-size: 14px; color: #555; line-height: 1.4; margin-bottom: 14px; }
  .btn { display: inline-block; padding: 10px 16px; border: none; border-radius: 6px; text-decoration: none; color: white; font-size: 14px; font-weight: 500; transition: background 0.2s ease; }
  .btn-success { background: #28a745; }
  .btn-success:hover { background: #218838; }
  .btn-primary { background: #007bff; }
  .btn-primary:hover { background: #0069d9; }
</style>

<section class="plans-section">
  <h1 class="plans-header">All Yoga Plans</h1>
  <div class="plans-container">
    {% for plan in plans %}
    <div class="plan-card">
      <img src="https://images.pexels.com/photos/1051838/pexels-photo-1051838.jpeg?cs=srgb&dl=pexels-prasanthinturi-1051838.jpg&fm=jpg" alt="{{ plan.title|default:'Yoga Plan' }}">
      <div class="plan-content">
        <div>
          <div class="plan-title">{{ plan.title }}</div>
          <div class="plan-desc">{{ plan.description}}</div>
        </div>
        {% if plan.plan_type == 'Free' %}
          <a href="{% url 'plan_detail' plan.id %}" class="btn btn-success">View Plan</a>
        
        {% endif %}
      </div>
    </div>
    {% empty %}
    <p style="grid-column: 1/-1; text-align: center; color: #777;">No plans available right now.</p>
    {% endfor %}
  </div>
</section>
{% endblock %}
